public class gFRS_Ltng_RFP_Printview_Controller {
    public gFRS_CGN_PLNG_Bulk_Email__c Rfptitle{ get; set; } 
    public gFRS_Ltng_Pre_Application__c Preapp{ get; set; } 
    
    public gFRS_Ltng_RFP_Printview_Controller(ApexPages.StandardController std) {
        this.Preapp =(gFRS_Ltng_Pre_Application__c) std.getRecord();
        try {
            this.Preapp=[select Id, OwnerId,CGN_PLNG_Title__r.CGN_PLNG_Title__c,IsDeleted, Name, CreatedDate, CreatedById, LastModifiedDate, LastModifiedById, SystemModstamp, LastActivityDate, MayEdit, IsLocked, LastViewedDate, LastReferencedDate, ConnectionReceivedId, ConnectionSentId, Additional_comments__c, Briefly_describe_intended_audience_CG__c, Briefly_describe_intended_audience_CME__c, Briefly_describe_intended_audience_EFG__c, Briefly_describe_intended_audience_SRFG__c, Briefly_describe_the_intended_audience__c, CGN_PLNG_Title__c, CGN_Pre_App_Type__c, Decision_Reaons__c, Disease_State__c, Do_you_have_a_grant_decision_or_print_de__c, Does_the_grant_target__c, Does_the_grant_target_any_of_the_specifi__c, Email__c, Event_Program_Origin_CG__c, Event_Program_Origin_CME__c, Event_Program_Origin_EFG__c, Event_Program_Origin_SRFG__c, Event_Program_Origin__c, Event_Program_Title__c, Extension__c, First_Name__c, Focus_Area12__c, Focus_Area_Text__c, Full_App_Submitted__c, Giving_Priorities_Alignment__c, Giving_Sub_Type__c, Giving_Type__c, How_many_employees_are_in_your_organiza__c, If_so_Please_Specify__c, Intended_audience_description__c, Last_Name__c, Non_US_Tax_ID__c, Organization_Name__c, Organization_Tax_ID__c, Phone_Number__c, Please_provide_an_overview_of_how_the_pr__c, PreApp_Business_Reviewer__c, Preapptoappcreatecheck__c, Program_Description__c, Program_End_Date__c, Program_Start_Date__c, Provide_the_grant_decision_or_print_dead__c, Requested_Amount__c, Sample_Question3_Picklist__c, foundtext9__c, Sample_Question_TextareaLong_SRFG__c, Select_the_relevant_therapeutic_area_for__c, Status__c, Summarize_the_goal_of_the_project_in_1_2__c, Summary_Please_provide_a_2_sentence_sum__c, Therapuetic_Area__c, Tin_Check_Status__c, Total_Overall_Budget__c, Under_what_CGN_topic_is_the_proposed_pro__c, What_is_your_organization_s_annual_budge__c, Where_is_the_organization_located__c, cgtext10__c, cgtext1__c, cgtext2__c, cgtext3__c, cgtext4__c, cgtext5__c, cgtext6__c, cgtext7__c, cgtext8__c, cgtext9__c, cmetext10__c, cmetext11__c, cmetext12__c, cmetext7__c, cmetext8__c, cmetext9__c, efgtext10__c, efgtext1__c, efgtext2__c, efgtext3__c, efgtext4__c, efgtext5__c, efgtext6__c, efgtext7__c, efgtext8__c, efgtext9__c, event_program_geographic_location__c, foundtext10__c, foundtext1__c, srfgtext9__c, Full_Application__c, foundtext4__c, foundtext5__c, foundtext6__c, foundtext7__c, foundtext8__c, foundtext3__c, gFRS_Organization__c, phfgtext10__c, phfgtext11__c, phfgtext12__c, phfgtext4__c, phfgtext5__c, phfgtext6__c, phfgtext7__c, phfgtext8__c, phfgtext9__c, srfgtext10__c, srfgtext11__c, srfgtext12__c, srfgtext4__c, srfgtext5__c, srfgtext6__c, srfgtext7__c, srfgtext8__c, standquestion3__c, standquestion4__c, standquestion5__c, RFP_Attachment_Id__c, RFP_Attachment_Name__c, RFP_Attachment_Type__c, foundtext2__c, Sample_Question_Picklist_Multi_SRFG__c from gFRS_Ltng_Pre_Application__c WHERE Id=:THIS.Preapp.Id];
            if(this.Preapp.CGN_PLNG_Title__r.CGN_PLNG_Title__c!=null||this.Preapp.CGN_PLNG_Title__r.CGN_PLNG_Title__c!=''){
                this.Rfptitle= [SELECT Id,Start_date_Validation__c,CGN_PLNG_Status__c,CGN_PLNG_Title__c,Survey_Link__c,invitationId__c,Users_to_whom_email_sent__c,Do_you_need_custom_questions__c,standquestion1__c,standquestion2__c,standquestion3__c,standquestion4__c,standquestion5__c,standquestion6__c,ProgramStartDateCheck__c,ProgramEndDateCheck__c,Event_Program_Origin__c,Briefly_describe_the_intended_audience__c,Event_Program_Origin_SRFG__c,Briefly_describe_intended_audience_SRFG__c,Event_Program_Origin_EFG__c,Briefly_describe_intended_audience_EFG__c,Event_Program_Origin_CG__c,Briefly_describe_intended_audience_CG__c,Event_Program_Origin_CME__c,Briefly_describe_intended_audience_CME__c,Sample_Question_Picklist_Multi_SRFG__c,Sample_Question_Radio_SRFG__c,phfgtext4__c,phfgtext5__c,phfgtext6__c,phfgtext7__c,phfgtext8__c,phfgtext9__c,phfgtext10__c,srfgtext4__c,srfgtext5__c,srfgtext6__c,srfgtext7__c,srfgtext8__c,srfgtext9__c,srfgtext10__c,cmetext7__c,cmetext8__c,cmetext9__c,cmetext10__c,cmetext11__c,cmetext12__c,efgtext1__c,efgtext2__c,efgtext3__c,efgtext4__c,efgtext5__c,efgtext6__c,efgtext7__c,efgtext8__c,efgtext9__c,efgtext10__c,cgtext1__c,cgtext2__c,cgtext3__c,cgtext4__c,cgtext5__c,cgtext6__c,cgtext7__c,cgtext8__c,cgtext9__c,cgtext10__c,foundtext1__c,foundtext2__c,foundtext3__c,foundtext4__c,foundtext5__c,foundtext6__c,foundtext7__c,foundtext8__c,foundtext9__c,foundtext10__c FROM gFRS_CGN_PLNG_Bulk_Email__c where CGN_PLNG_Title__c=:this.Preapp.CGN_PLNG_Title__r.CGN_PLNG_Title__c];
                
            }
        }  catch (Exception err) {
            System.debug('unable to load RFP:' + this.Preapp.Id);
            ApexPages.addMessage(new ApexPages.Message(ApexPages.Severity.ERROR, 'Unable to load RFP'));
            return;
        }
    }
}